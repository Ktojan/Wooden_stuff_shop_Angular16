"use strict";(self.webpackChunkwooden_shop_angular=self.webpackChunkwooden_shop_angular||[]).push([[918],{4918:(D,l,i)=>{i.r(l),i.d(l,{CartComponent:()=>w});var t=i(2223),c=i(4755),u=i(910),d=i(4859),g=i(7293),m=i(4707),f=i(2722),x=i(9401),p=i(1572),C=i(5544),v=i(1216),h=i(7556),O=i(266),M=i(6675);function b(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",12)(1,"div",13),t._UZ(2,"img",14),t.qZA(),t.TgZ(3,"div",15)(4,"p",16),t._uU(5),t.qZA(),t.TgZ(6,"div",17)(7,"div",18)(8,"button",19),t.NdJ("click",function(){const s=t.CHM(n).$implicit,_=t.oxw(2);return t.KtG(_.cartService.decrementCartItem(s))}),t._uU(9,"-"),t.qZA(),t.TgZ(10,"span"),t._uU(11),t.qZA(),t.TgZ(12,"button",19),t.NdJ("click",function(){const s=t.CHM(n).$implicit,_=t.oxw(2);return t.KtG(_.cartService.addCartItem(s))}),t._uU(13,"+"),t.qZA()()()(),t.TgZ(14,"div",20)(15,"p",21),t._uU(16),t.ALo(17,"currency"),t.qZA()()()}if(2&e){const n=r.$implicit,o=t.oxw(2);let a;t.xp6(2),t.Q6J("src",o.imagesBasicUrl+n.thumb,t.LSH)("alt",n.title),t.xp6(3),t.Oqu(n.title),t.xp6(6),t.Oqu(n.quantity),t.xp6(5),t.Oqu(t.Dn7(17,5,(null!==(a=n.quantity)&&void 0!==a?a:1)*n.price,"EUR","symbol"))}}function T(e,r){1&e&&(t.TgZ(0,"div",12)(1,"div",15)(2,"p",16),t._uU(3,"You need some items! Go add some to your cart"),t.qZA()()())}function P(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(3);return t.KtG(a.checkout())}),t._uU(1,"Checkout"),t.qZA()}if(2&e){const n=t.oxw().ngIf;t.Q6J("disabled",!n)}}function Z(e,r){1&e&&t._UZ(0,"mat-spinner",25)}function E(e,r){if(1&e&&(t.TgZ(0,"div",9),t.YNc(1,P,2,1,"button",22),t.YNc(2,Z,1,0,"mat-spinner",23),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!n.loading),t.xp6(1),t.Q6J("ngIf",n.loading)}}function A(e,r){1&e&&(t.TgZ(0,"div",26)(1,"b"),t._uU(2,"You need to login for checkout!"),t.qZA()())}function y(e,r){if(1&e&&(t.TgZ(0,"div",5),t.YNc(1,b,18,9,"div",6),t.YNc(2,T,4,0,"div",7),t.TgZ(3,"div",8)(4,"div",9)(5,"div"),t._uU(6,"Subtotal"),t.qZA(),t.TgZ(7,"div"),t._uU(8),t.ALo(9,"currency"),t.qZA()(),t.TgZ(10,"div",9)(11,"div"),t._uU(12,"Shipping"),t.qZA(),t.TgZ(13,"div"),t._uU(14),t.ALo(15,"currency"),t.qZA()(),t.TgZ(16,"div",9)(17,"div"),t._uU(18,"Sales Tax"),t.qZA(),t.TgZ(19,"div"),t._uU(20),t.ALo(21,"currency"),t.qZA()(),t.TgZ(22,"div",9)(23,"div"),t._uU(24,"Total"),t.qZA(),t.TgZ(25,"div"),t._uU(26),t.ALo(27,"currency"),t.qZA()(),t.YNc(28,E,3,2,"div",10),t.ALo(29,"async"),t.YNc(30,A,3,0,"ng-template",null,11,t.W1O),t.qZA()()),2&e){const n=t.MAs(31),o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.cartItemsPlusQuantity()),t.xp6(1),t.Q6J("ngIf",!o.cartItemsPlusQuantity().length),t.xp6(6),t.Oqu(t.Dn7(9,8,o.subtotal(),"EUR","symbol")),t.xp6(6),t.Oqu(t.Dn7(15,12,o.shipFee,"EUR","symbol")),t.xp6(6),t.Oqu(t.Dn7(21,16,o.salesTax(),"EUR","symbol")),t.xp6(6),t.Oqu(t.Dn7(27,20,o.total(),"EUR","symbol")),t.xp6(2),t.Q6J("ngIf",t.lcZ(29,24,o.isLoggedIn$))("ngIfElse",n)}}function U(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"div"),t._uU(3,"Are you happy now?.."),t.qZA()(),t.TgZ(4,"div",9)(5,"div"),t._uU(6),t.qZA()(),t.TgZ(7,"div",9)(8,"button",28),t.NdJ("click",function(){t.CHM(n);const a=t.oxw(2);return t.KtG(a.close())}),t._uU(9,"Close Cart"),t.qZA()()()}if(2&e){const n=t.oxw(2);t.xp6(6),t.hij("Order# ",n.orderNumber,"")}}function I(e,r){if(1&e&&(t.TgZ(0,"div",5),t.YNc(1,U,10,1,"div",27),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",!n.loading)}}let w=(()=>{class e{constructor(){this.cartService=(0,t.f3M)(u.N),this.router=(0,t.f3M)(C.F0),this.contactService=(0,t.f3M)(g.y),this.authService=(0,t.f3M)(h.e),this.cartItemsPlusQuantity=this.cartService.cartItemsPlusQuantity,this.subtotal=this.cartService.subtotal,this.salesTax=this.cartService.salesTax,this.total=this.cartService.total,this.shipFee=10,this.imagesBasicUrl=M.Z,this.destroyed$=new m.t(1),this.model={fullName:""},this.submitted=!1,this.loading=!1,this.orderNumber=Math.floor(1e3*Math.random()),this.isLoggedIn$=this.authService.getCurrentUser()}checkout(){this.loading=!0,this.contactService.submitContactForm(this.model).pipe((0,f.R)(this.destroyed$)).subscribe(()=>{this.submitted=!0,this.loading=!1,this.cartService.cartItems.set({})})}close(){this.router.navigate([{outlets:{[v.C.CART]:null}}],{queryParamsHandling:"merge"})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-cart"]],standalone:!0,features:[t.jDz],decls:9,vars:2,consts:[[1,"cart-wrapper"],[1,"cart-header"],["mat-raised-button","",3,"click"],["class","cart-items-wrapper",4,"ngIf","ngIfElse"],["formSubmitted",""],[1,"cart-items-wrapper"],["class","cart-item",4,"ngFor","ngForOf"],["class","cart-item",4,"ngIf"],[1,"totals-item"],[1,"totals-details-wrapper"],["class","totals-details-wrapper",4,"ngIf","ngIfElse"],["needLoggin",""],[1,"cart-item"],[1,"cart-item-image-wrapper"],[3,"src","alt"],[1,"cart-item-details-wrapper"],[1,"cart-item-name"],[1,"quantity-selector-wrapper"],[1,"quantity-selector"],[3,"click"],[1,"cart-item-price-wrapper"],[1,"cart-item-price"],["mat-button-raised","",3,"disabled","click",4,"ngIf"],["diameter","60",4,"ngIf"],["mat-button-raised","",3,"disabled","click"],["diameter","60"],[1,"cart-header",2,"justify-content","center","color","red"],["class","totals-item",4,"ngIf"],["mat-button-raised","",3,"click"]],template:function(n,o){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"span"),t._uU(3," Your Cart "),t.qZA(),t.TgZ(4,"button",2),t.NdJ("click",function(){return o.close()}),t._uU(5,"close"),t.qZA()(),t.YNc(6,y,32,26,"div",3),t.YNc(7,I,2,1,"ng-template",null,4,t.W1O),t.qZA()),2&n){const a=t.MAs(8);t.xp6(6),t.Q6J("ngIf",!o.submitted)("ngIfElse",a)}},dependencies:[c.ez,c.sg,c.O5,c.Ov,c.H9,d.ot,d.lW,O.AV,x.u5,p.Cq,p.Ou],styles:[".cart-wrapper[_ngcontent-%COMP%]{position:fixed;top:116px;right:0;z-index:20;background-color:#fff;padding:20px;width:400px;border:solid 1px rgba(54,48,44,.3);border-radius:10px}.cart-header[_ngcontent-%COMP%]{font-size:1.2rem;padding-bottom:10px;display:flex;justify-content:space-between;align-items:center}.cart-item[_ngcontent-%COMP%]{background-color:#fff;border:2px solid rgba(54,48,44,.3);border-radius:10px;display:flex;margin-bottom:20px;width:100%}.totals-item[_ngcontent-%COMP%]{flex-grow:1;background-color:#fff;border:2px solid rgba(54,48,44,.3);border-radius:10px;display:flex;flex-direction:column;margin-bottom:20px;width:100%}.cart-item-image-wrapper[_ngcontent-%COMP%]{margin-right:37px;padding:17px}.cart-item-image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.cart-item-details-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:17px}.cart-item-name[_ngcontent-%COMP%]{color:#36302c;font-size:1rem;font-weight:400;margin:0 0 15px}.quantity-selector-wrapper[_ngcontent-%COMP%]{align-items:center;display:flex}.quantity-selector[_ngcontent-%COMP%]{align-items:center;background-color:#fdf6f6;border:2px solid rgba(54,48,44,.3);border-radius:10px;box-sizing:border-box;display:flex;height:40px;justify-content:space-between;margin-right:20px;padding:0 10px;width:100px}.quantity-selector[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#c87d52;border:0;background-color:#fdf6f6}.quantity-selector[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#36302c;font-size:18px}.cart-item-price-wrapper[_ngcontent-%COMP%]{align-items:center;display:flex;font-size:1rem;font-weight:700;margin-left:auto;padding-right:47px}.totals-details-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;font-size:1.2rem;font-weight:500;margin-left:auto;width:50%;padding:17px}.totals-details-wrapper[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-shrink:1;font-size:1rem;font-weight:500;margin-left:auto;padding-right:20px}.totals-details-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#ffd0c9;border:0;border-radius:10px;box-shadow:0 3px 1px -2px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;color:#36302c;font-size:16px;font-weight:600;height:51px;margin:20px 0 0;text-transform:uppercase;width:100%}.totals-item.spinner[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),e})()}}]);